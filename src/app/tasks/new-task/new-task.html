<div class="backdrop" (click)="onCancel()"></div> 
<dialog open>
    <h2>Add Task</h2>
    <form #taskForm="ngForm" (ngSubmit)="onSubmit(taskForm)">
        <p>
            <label for="title">Title</label>
            <input
                type="text" 
                id="title"
                name="title" 
                [(ngModel)]="title" 
                required 
                maxlength="18"
                #formTitle="ngModel"
            />
            @if (formTitle.invalid && formTitle.touched) {
                <p class="error-messages">
                    @if (formTitle.errors?.['required']) {
                        <span>Title is required.</span>
                    }
                    @if (formTitle.errors?.['maxlength']) {
                        <span>Must be max 18 characters.</span>
                    }
                </p>
            }
        </p>
        
        <p>
            <label for="summary">Summary</label>
            <textarea 
                id="summary"
                rows="5" 
                name="summary" 
                [(ngModel)]="summary" 
                maxlength="50"
                #formSummary="ngModel"
                required ></textarea>
            @if (formSummary.invalid && formSummary.touched) {
                <p class="error-messages">
                    @if (formSummary.errors?.['required']) {
                        <span>Summary is required.</span>
                    }
                    @if (formSummary.errors?.['maxlength']) {
                        <span>Must be max 50 characters.</span>
                    }
                </p>
            }
        </p>
        
        <p>
            <label for="due-date">Due Date</label>
            <input
                type="date" 
                id="due-date"
                name="dueDate" 
                [(ngModel)]="dueDate" 
                required 
                #formDueDate="ngModel"
            />
            @if (formDueDate.invalid && formDueDate.touched) {
                <p class="error-messages">
                    @if (formDueDate.errors?.['required']) {
                        <span>Due Date is required.</span>
                    }
                </p>
            }
        </p>

        <p class="actions"> 
            <button type="button" (click)="onCancel()">Cancel</button>
            <button type="submit" [disabled]="taskForm.form.invalid">Create</button>
        </p>
    </form>
</dialog>